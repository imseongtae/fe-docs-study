# Thinking in React

# í•™ìŠµ ë‚´ìš© ë¦¬ë·°
<!--  -->

## Step 1: Break the UI into a component hierarchy 
ë””ìì¸(í˜¹ì€ ë§ˆí¬ì—…)ì„ ë³´ê³  ì‹œê°ì ìœ¼ë¡œ ë°˜ë³µë˜ëŠ” íŒ¨í„´ì„ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ìª¼ê°¬.
- í•œ ê°€ì§€ ì—­í• ë§Œ ë‹´ë‹¹í•˜ë„ë¡ ë¶„ë¦¬í•˜ë©°, ì»´í¬ë„ŒíŠ¸ëŠ” ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìµœì†Œ ë‹¨ìœ„ê°€ ë¨.
- ì˜ˆ: FilterableProductTable â†’ SearchBarì™€ ProductTableë¡œ ë‚˜ëˆ„ê³ , ë‹¤ì‹œ ProductRow, ProductCategoryRow ë“±ìœ¼ë¡œ ì„¸ë¶„í™”

> DOM êµ¬ì¡°ê°€ ì•„ë‹Œ **ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬(Separation of Concerns)**ì— ë”°ë¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚˜ëˆ„ëŠ” ìŠµê´€

## Step 2: Build a static version in React 
- ìƒíƒœë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ë”ë¯¸ ë°ì´í„°ë¡œ UI êµ¬ì¡°ë¥¼ ë¨¼ì € êµ¬í˜„.
- ì´ ë‹¨ê³„ì—ì„œëŠ” ìƒíƒœ ê´€ë¦¬ ì—†ì´ propsë¥¼ í†µí•´ ë°ì´í„°ë§Œ ì „ë‹¬.

> ìƒíƒœ ì—†ì´ ì»´í¬ë„ŒíŠ¸ë§Œìœ¼ë¡œ UIë¥¼ êµ¬ì„±í•´ë³´ë©° **í•˜í–¥ì‹ ë°ì´í„° íë¦„(Top-down data flow)**ì„ ê²½í—˜

## Step 3: Find the minimal but complete representation of UI state 
UIì— í•„ìš”í•œ ìµœì†Œí•œì˜ ìƒíƒœ(State)ë¥¼ ì‹ë³„

- ì–´ë–¤ ë°ì´í„°ë¥¼ ìƒíƒœë¡œ ê´€ë¦¬í•´ì•¼ í•˜ëŠ”ì§€ ì„ ë³„
- ë‹¤ìŒ ì„¸ ê°€ì§€ ì§ˆë¬¸ì„ í†µí•´ íŒë‹¨:
  1. ë¶€ëª¨ë¡œë¶€í„° propsë¡œ ì „ë‹¬ë˜ëŠ”ê°€?
  2. ì‹œê°„ì´ ì§€ë‚˜ë„ ë³€í•˜ì§€ ì•ŠëŠ” ê°’ì¸ê°€?
  3. ì»´í¬ë„ŒíŠ¸ ì•ˆì˜ ë‹¤ë¥¸ stateë‚˜ propsë¥¼ ê°€ì§€ê³  ê³„ì‚° ê°€ëŠ¥í•œê°€?

> ë¶ˆí•„ìš”í•œ ìƒíƒœë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ” ìŠµê´€ì„ ë“¤ì´ê³ , ì–´ë–¤ ë°ì´í„°ë¥¼ ìƒíƒœë¡œ ì˜¬ë¦´ì§€ë¥¼ íŒë‹¨í•˜ëŠ” ê²½í—˜ì„ í•™ìŠµí•´ì•¼ í•¨

## Step 4: Identify where your state should live 
ìƒíƒœë¥¼ ì ì ˆí•œ ì»´í¬ë„ŒíŠ¸ë¡œ ì˜¬ë¦°ë‹¤

- ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ê³µìœ í•´ì•¼ í•˜ëŠ” ìƒíƒœëŠ” ê³µí†µ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¡œ ëŒì–´ì˜¬ë¦°ë‹¤.
- ì´ ê³¼ì •ì—ì„œ ìƒíƒœë¥¼ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ì™€ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ê´€ê³„ê°€ ìƒê¹€.

> ì»´í¬ë„ŒíŠ¸ ê°„ ë°ì´í„° íë¦„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì„¤ê³„í•˜ê³ , í•˜í–¥ì‹ ë°ì´í„° íë¦„ê³¼ ìƒí–¥ì‹ ì´ë²¤íŠ¸ ì „ë‹¬ì„ ì´í•´

## Step 5: Add inverse data flow 
ë°˜ëŒ€ ë°©í–¥ì˜ ë°ì´í„° íë¦„ì„ ì¶”ê°€

> ì§€ê¸ˆê¹Œì§€ ê³„ì¸µ êµ¬ì¡° ì•„ë˜ë¡œ íë¥´ëŠ” propsì™€ stateì˜ í•¨ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ ì•±ì„ ë§Œë“¤ì—ˆëŠ”ë°, ì´ì œëŠ” ì‚¬ìš©ì ì…ë ¥ì— ë”°ë¼ stateë¥¼ ë³€ê²½í•˜ë ¤ë©´ ë°˜ëŒ€ ë°©í–¥ì˜ ë°ì´í„° íë¦„ì„ ë§Œë“¤ì–´ì•¼ í•¨

- ì‚¬ìš©ìì˜ ì…ë ¥ì„ ë°›ì•„ ìƒíƒœë¥¼ ê°±ì‹ í•˜ëŠ” íë¦„ì„ êµ¬ì„±.
- ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼œ ë¶€ëª¨ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ê³ , ë³€ê²½ëœ ìƒíƒœê°€ ë‹¤ì‹œ ìì‹ì—ê²Œ ì „ë‹¬ë˜ëŠ” êµ¬ì¡°.

> ì´ë²¤íŠ¸ í•¸ë“¤ë§ê³¼ ìƒíƒœ ì—…ë°ì´íŠ¸ íë¦„ì„ ë¶„ë¦¬í•˜ê³ , **ë‹¨ë°©í–¥ ë°ì´í„° íë¦„(One-way data flow)**ì„ ê¸°ë°˜ìœ¼ë¡œ ì‹œìŠ¤í…œì„ ì„¤ê³„ 
> ğŸ’¡ (ReactëŠ” ë°ì´í„° íë¦„ì„ ëª…ì‹œì ìœ¼ë¡œ ë³´ì´ê²Œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŠ” ì „í†µì ì¸ ì–‘ë°©í–¥ ë°ì´í„° ë°”ì¸ë”©ë³´ë‹¤ ì¡°ê¸ˆ ë” ë§ì€ íƒ€ì´í•‘ì´ í•„ìš”í•©ë‹ˆë‹¤)


## ë°ì´í„° í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨

```mermaid
graph TD
  subgraph UI ì…ë ¥
    SearchBar["SearchBar<br />(ê²€ìƒ‰ì–´ ì…ë ¥ + ì²´í¬ë°•ìŠ¤)"]
  end

  subgraph ë¶€ëª¨ ìƒíƒœ ê´€ë¦¬
    FilterableProductTable["FilterableProductTable<br />(ê²€ìƒ‰ì–´, ì²´í¬ë°•ìŠ¤ ìƒíƒœ ì €ì¥)"]
  end

  subgraph ë°ì´í„° í‘œì‹œ
    ProductTable["ProductTable<br />(í•„í„°ëœ ëª©ë¡ ë Œë”ë§)"]
    ProductCategoryRow["ProductCategoryRow<br />(ì¹´í…Œê³ ë¦¬ í—¤ë” í‘œì‹œ)"]
    ProductRow["ProductRow<br />(ìƒí’ˆ í–‰ ë Œë”ë§)"]
  end

  SearchBar -- ì‚¬ìš©ì ì…ë ¥ ì´ë²¤íŠ¸ --> FilterableProductTable
  FilterableProductTable -- props ì „ë‹¬ --> SearchBar
  FilterableProductTable -- í•„í„°ë§ëœ ë°ì´í„° ì „ë‹¬ --> ProductTable
  ProductTable --> ProductCategoryRow
  ProductTable --> ProductRow
```
