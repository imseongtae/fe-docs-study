# Synchronizing with Effects

```plaintext
ğŸ’¬ ì›ë¬¸:  
Some components need to synchronize with external systems.  
For example, you might want to control a non-React component based on the React state, set up a server connection, or send an analytics log when a component appears on the screen.  
Effects let you run some code after rendering so that you can synchronize your component with some system outside of React.

---

ğŸ“ í•œê¸€ ë²ˆì—­:  
ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.  
ì˜ˆë¥¼ ë“¤ì–´, React ìƒíƒœì— ë”°ë¼ Reactê°€ ì•„ë‹Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œì–´í•˜ê±°ë‚˜, ì„œë²„ ì—°ê²°ì„ ì„¤ì •í•˜ê±°ë‚˜, ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚  ë•Œ ë¶„ì„ ë¡œê·¸ë¥¼ ì „ì†¡í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
Effectë¥¼ ì‚¬ìš©í•˜ë©´ ë Œë”ë§ ì´í›„ì— ì–´ë–¤ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì—¬, ì»´í¬ë„ŒíŠ¸ë¥¼ React ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```

> ì´ ë¬¸ì„œì—ì„œëŠ” React ì»´í¬ë„ŒíŠ¸ê°€ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•  í•„ìš”ê°€ ìˆì„ ë•Œ ì‚¬ìš©í•˜ëŠ” â€œEffectâ€ì— ëŒ€í•´ ë‹¤ë£¸. EffectëŠ” ë¸Œë¼ìš°ì € API í˜¸ì¶œ, ì„œë²„ ì—°ê²°, ì• ë„ë¦¬í‹±ìŠ¤ ì „ì†¡ ë“± ë Œë”ë§ ì´í›„ì— ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ëŠ” ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ì²˜ë¦¬í•¨.

> ### You will learn
> - What Effects are
> - How Effects are different from events
> - How to declare an Effect in your component 
> - How to skip re-running an Effect unnecessarily (Effectê°€ ë¶ˆí•„ìš”í•˜ê²Œ ì¬ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ëŠ” ë°©ë²•)
> - Why Effects run twice in development and how to fix them (ê°œë°œ í™˜ê²½ì—ì„œ Effectê°€ ë‘ ë²ˆ ì‹¤í–‰ë˜ëŠ” ì´ìœ ì™€ í•´ê²° ë°©ë²•)

## Table of contents
1. [What are Effects and how are they different from events?](#1-what-are-effects-and-how-are-they-different-from-events)
1. [You might not need an Effect](#2-you-might-not-need-an-effect)
1. [How to write an Effect](#3-how-to-write-an-effect)
1. [How to handle the Effect firing twice in development?](#4-how-to-handle-the-effect-firing-twice-in-development)
1. [Putting it all together](#5-putting-it-all-together)
1. [Recap](#recap)
1. [Challenges](#challenges)

---

## 1. What are Effects and how are they different from events?
ğŸ’¡ í•µì‹¬ í‘œí˜„
> ğŸ’¬ ì›ë¬¸:  
> â€œEffects let you specify side effects that are caused by rendering itself, rather than by a particular event.â€  
> ğŸ“ í•œê¸€ ë²ˆì—­:  
> EffectëŠ” íŠ¹ì • ì´ë²¤íŠ¸ê°€ ì•„ë‹Œ, ë Œë”ë§ ê·¸ ìì²´ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì§€ì •í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.  

### Effectë€?
Effectì— ëŒ€í•´ ì•Œì•„ë³´ê¸° ì „ì—, **ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë‘ ê°€ì§€ ìœ í˜•ì˜ ë¡œì§**ì— ëŒ€í•´ ë¨¼ì € ì´í•´ê°€ í•„ìš”

**Rendering code**  
- ì»´í¬ë„ŒíŠ¸ ìµœìƒìœ„ ìˆ˜ì¤€ì— ìœ„ì¹˜í•˜ë©°, propê³¼ stateë¥¼ ë°›ì•„ ì´ë¥¼ ë³€í™˜í•œ í›„ í™”ë©´ì— í‘œì‹œë  JSXë¥¼ ë°˜í™˜
- ë Œë”ë§ ì½”ë“œëŠ” ìˆœìˆ˜í•´ì•¼ í•¨. ì¦‰, ìˆ˜í•™ ê³µì‹ì²˜ëŸ¼ ë‹¨ìˆœíˆ ê²°ê³¼ë¥¼ â€œê³„ì‚°â€í•´ì•¼ í•˜ë©°, ë‹¤ë¥¸ í–‰ë™ì€ í•˜ì§€ ì•Šì•„ì•¼ í•¨

**Event handlers**
- ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ì¤‘ì²©ëœ í•¨ìˆ˜ë¡œ, ê³„ì‚°ë§Œ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì–´ë–¤ ë™ì‘ì„ ìˆ˜í–‰í•¨. 
  - ì˜ˆë¥¼ ë“¤ì–´ ì…ë ¥ í•„ë“œë¥¼ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜, POST ìš”ì²­ì„ ì „ì†¡í•˜ê±°ë‚˜, í™”ë©´ì„ ì´ë™ì‹œí‚¤ëŠ” ë“±ì˜ ì‘ì—…ì„ í•¨
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” íŠ¹ì • ì‚¬ìš©ì ë™ì‘(ì˜ˆ: ë²„íŠ¼ í´ë¦­, ì…ë ¥ ë“±)ì— ì˜í•´ ë°œìƒí•˜ëŠ” **ë¶€ìˆ˜ íš¨ê³¼(side effect)**ë¥¼ í¬í•¨í•¨

í•˜ì§€ë§Œ ê²½ìš°ì— ë”°ë¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ChatRoom ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚  ë•Œë§ˆë‹¤ ì±„íŒ… ì„œë²„ì— ì—°ê²°ë˜ì–´ì•¼ í•œë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤. ì„œë²„ì— ì—°ê²°í•˜ëŠ” ì‘ì—…ì€ ìˆœìˆ˜ ê³„ì‚°ì´ ì•„ë‹ˆë¯€ë¡œ ë Œë”ë§ ì¤‘ì— ìˆ˜í–‰í•  ìˆ˜ ì—†ìœ¼ë©°, í´ë¦­ ê°™ì€ íŠ¹ì • ì´ë²¤íŠ¸ì— ì˜í•´ ë°œìƒí•˜ëŠ” ê²ƒë„ ì•„ë‹™ë‹ˆë‹¤.

### ìš”ì•½
- ë Œë”ë§ ì½”ë“œ: JSXë¥¼ ê³„ì‚°í•˜ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ (ë¶€ìˆ˜ íš¨ê³¼ ì—†ìŒ)
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬: ì‚¬ìš©ì ì•¡ì…˜ì— ë”°ë¼ ë¶€ìˆ˜ íš¨ê³¼ ë°œìƒ
- EffectëŠ” íŠ¹ì • ì´ë²¤íŠ¸ê°€ ì•„ë‹Œ, ë Œë”ë§ ê·¸ ìì²´ì— ì˜í•´ ë°œìƒí•˜ëŠ” ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì •ì˜í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ (ì˜ˆ: ì„œë²„ ì—°ê²°)
- EffectëŠ” í™”ë©´ ì—…ë°ì´íŠ¸ í›„ ì»¤ë°‹(commit)ì˜ ëì—ì„œ ì‹¤í–‰ë¨. ì´ëŠ” ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë„¤íŠ¸ì›Œí¬ë‚˜ ì„œë“œíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ê°™ì€ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•˜ê¸°ì— ì ì ˆí•œ ì‹œì 

### ì§ˆë¬¸ê³¼ ë‹µë³€
Q. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì™€ Effectì˜ ê°€ì¥ í° ì°¨ì´ì ì€ ë¬´ì—‡ì¸ê°€ìš”?
A. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” íŠ¹ì • ì‚¬ìš©ì ì•¡ì…˜ì— ì˜í•´ ì‹¤í–‰ë˜ê³ , EffectëŠ” ë Œë”ë§ ìì²´ë¡œ ì¸í•´ ì‹¤í–‰ë¨

---

## 2. You might not need an Effect
EffectëŠ” ë³´í†µ ë¦¬ì•¡íŠ¸ ì½”ë“œì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜, ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•  ë•Œ ì‚¬ìš©ë¨. 
- ì˜ˆë¥¼ ë“¤ì–´ ë¸Œë¼ìš°ì € API, ì„œë“œíŒŒí‹° ìœ„ì ¯, ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë“±ì´ í•´ë‹¹
- ë§Œì•½ Effectê°€ ë‹¨ìˆœíˆ ì–´ë–¤ ìƒíƒœì— ê¸°ë°˜í•˜ì—¬ ë‹¤ë¥¸ ìƒíƒœë¥¼ ì¡°ì •í•˜ê³  ìˆë‹¤ë©´, Effectê°€ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŒ

ğŸ’¡ í•µì‹¬ í‘œí˜„
> ğŸ’¬ ì›ë¬¸:  
> â€œIf your Effect only adjusts some state based on other state, you might not need an Effect.â€  
> ğŸ“ í•œê¸€ ë²ˆì—­:  
> ì–´ë–¤ ìƒíƒœë¥¼ ë‹¤ë¥¸ ìƒíƒœì— ë”°ë¼ ì¡°ì •í•˜ê¸° ìœ„í•œ ëª©ì ì´ë¼ë©´, Effectê°€ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

**To write an Effect, follow these three steps**:  
1. Declare an Effect.  
    - ê¸°ë³¸ì ìœ¼ë¡œ, EffectëŠ” ëª¨ë“  ì»¤ë°‹ ì´í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤.
2. Specify the Effect dependencies  
    - ëŒ€ë¶€ë¶„ì˜ EffectëŠ” ë§¤ ë Œë”ë§ë§ˆë‹¤ ì‹¤í–‰ë˜ì–´ì„œëŠ” ì•ˆ ë˜ê³ , í•„ìš”í•  ë•Œë§Œ ì¬ì‹¤í–‰ë˜ì–´ì•¼ í•¨
    - ì´ë¥¼ ì œì–´í•˜ê¸° ìœ„í•´ *ì˜ì¡´ì„±(dependencies)*ì„ ëª…ì‹œí•˜ëŠ” ë²•ì„ ë°°ìš°ê²Œ ë¨
3. Add cleanup if needed (í•„ìš”í•˜ë‹¤ë©´ cleanup í•¨ìˆ˜ ì¶”ê°€í•˜ê¸°)  

## 3. How to write an Effect

### Step 1: Declare an Effect
ğŸ’¡ í•µì‹¬ í‘œí˜„
> ğŸ’¬ ì›ë¬¸:  
> â€œuseEffect delays a piece of code from running until that render is reflected on the screen.â€  
> ğŸ“ í•œê¸€ ë²ˆì—­:  
> useEffectëŠ” ë Œë”ë§ ê²°ê³¼ê°€ ì‹¤ì œ í™”ë©´ì— ë°˜ì˜ëœ í›„ì— ì½”ë“œ ì‹¤í–‰ì„ ì§€ì—°ì‹œí‚µë‹ˆë‹¤.  

1. ì»´í¬ë„ŒíŠ¸ì—ì„œ Effectë¥¼ ì„ ì–¸í•˜ë ¤ë©´, ë¨¼ì € Reactì—ì„œ `useEffect` í›…ì„ ê°€ì ¸ì˜´
2. ê·¸ ë‹¤ìŒ, ì»´í¬ë„ŒíŠ¸ ìµœìƒìœ„ì—ì„œ `useEffect`ë¥¼ í˜¸ì¶œí•˜ê³  ê·¸ ì•ˆì— ì½”ë“œë¥¼ ì‘ì„±
3. ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œë§ˆë‹¤, ReactëŠ” í™”ë©´ì„ ì—…ë°ì´íŠ¸í•œ ì´í›„ì— `useEffect` ë‚´ë¶€ ì½”ë“œë¥¼ ì‹¤í–‰. ì¦‰, `useEffect`ëŠ” íŠ¹ì • ì½”ë“œì˜ ì‹¤í–‰ì„ í™”ë©´ì´ ì—…ë°ì´íŠ¸ëœ ì´í›„ë¡œ â€œì§€ì—°í•¨â€

**ì˜ˆì‹œ ì½”ë“œ**  
- ëª¨ë“  ë Œë”ë§ í›„ ì‹¤í–‰ë¨
- ì˜ˆ: `<video>` íƒœê·¸ì˜ `.play()` ë©”ì„œë“œ í˜¸ì¶œ

```jsx
useEffect(() => {
  // side effect here
});
```

#### Pitfall: Effectê°€ ë¬´í•œ ë£¨í”„ë¥¼ ì¼ìœ¼í‚¤ëŠ” ê²½ìš°
EffectëŠ” ë Œë”ë§ì˜ ê²°ê³¼ë¡œ ì‹¤í–‰ë˜ë©°, setState()ëŠ” ë Œë”ë§ì„ ìœ ë°œ  
ê·¸ë˜ì„œ ì˜ˆì œì™€ ê°™ì€ ì½”ë“œëŠ” ë¬´í•œ ë£¨í”„ë¥¼ ìœ ë°œ:  
1. ë Œë”ë§ â†’
2. Effect ì‹¤í–‰ â†’ setCount() í˜¸ì¶œ â†’
3. ìƒíƒœ ë³€ê²½ â†’ ë‹¤ì‹œ ë Œë”ë§ â†’
4. ë‹¤ì‹œ Effect ì‹¤í–‰ â†’ ë¬´í•œ ë°˜ë³µ

> EffectëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•˜ëŠ” ë° ì‚¬ìš©ë˜ì–´ì•¼ í•¨. ë‚´ë¶€ ìƒíƒœë§Œ ë‹¤ë£¨ëŠ” ê²½ìš°ë¼ë©´, Effectê°€ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŒ

### Step 2: Specify the Effect dependencies
> Effect ì˜ì¡´ì„± ëª…ì‹œí•˜ê¸°  
By default, Effects run after every render. Often, this is not what you want:

ğŸ’¡ í•µì‹¬ í‘œí˜„
> ğŸ’¬ ì›ë¬¸:  
> â€œReact will skip the Effect if all of its dependencies have the same values as during the last render.â€  
> ğŸ“ í•œê¸€ ë²ˆì—­:  
> ëª¨ë“  ì˜ì¡´ì„±ì´ ì´ì „ ë Œë”ë§ê³¼ ë™ì¼í•œ ê°’ì´ë©´ ReactëŠ” Effect ì‹¤í–‰ì„ ê±´ë„ˆëœë‹ˆë‹¤.  

ê¸°ë³¸ì ìœ¼ë¡œ, EffectëŠ” ëª¨ë“  ë Œë”ë§ í›„ì— ì‹¤í–‰í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ ê²½ìš°, ì´ê²ƒì€ ì›í•˜ëŠ” ë™ì‘ì´ ì•„ë‹˜:
- ì–´ë–¤ ê²½ìš°ì—ëŠ”, ë„ˆë¬´ ëŠë¦¼
- ì–´ë–¤ ê²½ìš°ì—ëŠ”, ì˜ëª»ëœ ë™ì‘

**ì˜ˆì‹œ ì½”ë“œ**  
- ì˜ì¡´ì„± ë°°ì—´ì„ ì •í™•íˆ ëª…ì‹œí•´ì•¼ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë™ì‘ ê°€ëŠ¥
- `[]`ì€ `mount` ì‹œ í•œ ë²ˆë§Œ ì‹¤í–‰ë¨

```jsx
useEffect(() => {
  // logic
}, [dependency]);
```

ì˜ˆì œì—ì„œ, "React Hook useEffect has a missing dependency: â€˜isPlayingâ€™" ì´ ë°œìƒí•˜ëŠ” ì´ìœ :  
- Effect ë‚´ë¶€ì˜ ì½”ë“œê°€ isPlaying propì— ì˜ì¡´í•˜ê³  ìˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³ , ì˜ì¡´ì„± ë°°ì—´ì— ê·¸ê²ƒì„ ëª…ì‹œí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸
- ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ isPlayingì„ ì˜ì¡´ì„± ë°°ì—´ì— ì¶”ê°€í•´ì•¼ í•¨
- ì´ ë°°ì—´ `[isPlaying]`ì€ `isPlaying`ì˜ ê°’ì´ ì´ì „ ë Œë”ì™€ ë™ì¼í•œ ê²½ìš° Effectë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ì§€ ë§ë¼ëŠ” ì˜ë¯¸

ì˜ì¡´ì„± ë°°ì—´ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ í•­ëª©ì„ ë„£ì„ ìˆ˜ ìˆìŒ:
- ë¦¬ì•¡íŠ¸ëŠ” ì˜ì¡´ì„± ë°°ì—´ì— í¬í•¨ëœ ëª¨ë“  ê°’ì´ ì´ì „ ë Œë”ì™€ ë™ì¼í•  ë•Œë§Œ Effect ì‹¤í–‰ì„ ìƒëµí•¨
- ì´ë•Œ ë¹„êµì—ëŠ” `Object.is` ë¹„êµ ë°©ì‹ì´ ì‚¬ìš©ë¨

âš ï¸ ì£¼ì˜: ì˜ì¡´ì„±ì€ â€œì„ íƒí•  ìˆ˜ ìˆëŠ” ê²ƒâ€ì´ ì•„ë‹˜
- Effect ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê°’ì€ ëª¨ë‘ ì˜ì¡´ì„± ë°°ì—´ì— ëª…ì‹œí•´ì•¼ í•¨
- ë¦¬ì•¡íŠ¸ëŠ” ì´ë¥¼ í™•ì¸í•˜ëŠ” ë¦°íŠ¸ ë„êµ¬ë¥¼ ì œê³µí•¨
  - ë§Œì•½ ë°°ì—´ì— ë¹ ì§„ ì˜ì¡´ì„±ì´ ìˆë‹¤ë©´ ê²½ê³ ë¥¼ ì¶œë ¥í•˜ê³ , ì ì¬ì ì¸ ë²„ê·¸ë¥¼ ì‚¬ì „ì— ë§‰ì•„ì¤ë‹ˆë‹¤.
- ë§Œì•½ ì–´ë–¤ ê°’ì´ ë°”ë€Œë”ë¼ë„ Effectê°€ ì¬ì‹¤í–‰ë˜ì§€ ì•Šê¸¸ ì›í•œë‹¤ë©´, Effect ë‚´ë¶€ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì—¬ í•´ë‹¹ ê°’ì´ í•„ìš” ì—†ë„ë¡ ë§Œë“¤ì–´ì•¼ í•¨

âš ï¸ Pitfall: ë¹ˆ ë°°ì—´ê³¼ ë°°ì—´ ìƒëµì€ ë‹¤ë¦„

```jsx
useEffect(() => {
  // ëª¨ë“  ë Œë”ë§ í›„ ì‹¤í–‰
});

useEffect(() => {
  // ë§ˆìš´íŠ¸ ì‹œì—ë§Œ ì‹¤í–‰ (ì²˜ìŒ í™”ë©´ì— ë‚˜íƒ€ë‚  ë•Œ)
}, []);

useEffect(() => {
  // ë§ˆìš´íŠ¸ ì‹œ ë˜ëŠ” a ë˜ëŠ” bê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ì‹¤í–‰
}, [a, b]);
```

### Step 3: Add cleanup if needed
Effect ë‚´ë¶€ì—ì„œ cleanup í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ë©´, ë¦¬ì•¡íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš° cleanup í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•¨:
- Effectê°€ ì¬ì‹¤í–‰ë˜ê¸° ì§ì „
- ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ

ğŸ’¡ í•µì‹¬ í‘œí˜„
> ğŸ’¬ ì›ë¬¸:  
> â€œReact will call your cleanup function each time before the Effect runs again, and one final time when the component unmounts.â€  
> ğŸ“ í•œê¸€ ë²ˆì—­:  
> ReactëŠ” Effectê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ê¸° ì „ë§ˆë‹¤, ê·¸ë¦¬ê³  ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ ë§ˆì§€ë§‰ìœ¼ë¡œ ì •ë¦¬ í•¨ìˆ˜(cleanup)ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.  

**ì˜ˆì‹œ ì½”ë“œ**  
- `return` í•¨ìˆ˜ëŠ” ì •ë¦¬ í•¨ìˆ˜ë¡œ, ì—°ê²° í•´ì œ, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±° ë“±ì— ì‚¬ìš©ë¨

```jsx
useEffect(() => {
  const conn = createConnection();
  conn.connect();
  return () => conn.disconnect();
}, []);
```

ë¦¬ì•¡íŠ¸ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë§ˆìš´íŠ¸í•´ë„ ì‹¤ì œ ì•± ë¡œì§ì´ ê¹¨ì§€ì§€ ì•Šë„ë¡ ì •ë¦¬ í•¨ìˆ˜ê°€ ì˜ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ ê²€ì¦í•¨

In production, you would only see "âœ… Connecting..." printed once:  
(ìš´ì˜ ëª¨ë“œì—ì„œëŠ” "âœ… Connecting..."ë§Œ í•œ ë²ˆ ì¶œë ¥ë˜ë©°, ë‘ ë²ˆ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ)  

> ğŸ’¡ ì°¸ê³ : ì´ëŸ° ë¦¬ì•¡íŠ¸ì˜ ê°œë°œ ëª¨ë“œ ë™ì‘ì€ StrictModeì—ì„œ ì‘ë™í•¨  
> StrictModeë¥¼ ë„ë©´ ì´ ë™ì‘ì€ ì‚¬ë¼ì§€ì§€ë§Œ, ì´ë¡œ ì¸í•´ ë²„ê·¸ë¥¼ ë†“ì¹  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— StrictModeëŠ” ì¼œë‘ëŠ” ê²ƒì´ ì¢‹ìŒ

---

## 4. How to handle the Effect firing twice in development?
ğŸ’¡ í•µì‹¬ í‘œí˜„
> ğŸ’¬ ì›ë¬¸:  
> â€œThe right question isnâ€™t â€˜how to run an Effect onceâ€™, but â€˜how to fix my Effect so that it works after remountingâ€™.â€  
> ğŸ“ í•œê¸€ ë²ˆì—­:  
> â€œEffectë¥¼ í•œ ë²ˆë§Œ ì‹¤í–‰í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?â€ê°€ ì•„ë‹ˆë¼ â€œë‹¤ì‹œ ë§ˆìš´íŠ¸ëœ ì´í›„ì—ë„ ë™ì‘í•˜ë„ë¡ Effectë¥¼ ê³ ì¹˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?â€ê°€ ì˜¬ë°”ë¥¸ ì§ˆë¬¸ì…ë‹ˆë‹¤.  

**â—ï¸ì¤‘ìš”í•œ ì§ˆë¬¸**ì€
- â€œì–´ë–»ê²Œ í•˜ë©´ Effectë¥¼ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ê²Œ í•  ìˆ˜ ìˆì„ê¹Œ?â€ê°€ ì•„ë‹ˆë¼
- â€œë‚´ Effectê°€ ë‹¤ì‹œ ë§ˆìš´íŠ¸ëœ ì´í›„ì—ë„ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ê²Œ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?â€ ì„
- **ë³´í†µ ê·¸ í•´ë‹µì€ ì •ë¦¬(cleanup) í•¨ìˆ˜ë¥¼ ì œëŒ€ë¡œ êµ¬í˜„**í•˜ëŠ” ê²ƒ
- ì •ë¦¬ í•¨ìˆ˜ëŠ” Effectê°€ ìˆ˜í–‰í•˜ë˜ ì‘ì—…ì„ ë©ˆì¶”ê±°ë‚˜ ì·¨ì†Œí•˜ê±°ë‚˜ ë˜ëŒë¦¬ëŠ” ì—­í• ì„ í•¨

ReactëŠ” ê°œë°œ ëª¨ë“œì—ì„œ Strict Modeë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ë¥¼ í•œ ë²ˆ ë§ˆìš´íŠ¸í•˜ê³ , ì–¸ë§ˆìš´íŠ¸í•œ í›„ ë‹¤ì‹œ ë§ˆìš´íŠ¸í•¨  
ì´ëŠ” Effectê°€ ì œëŒ€ë¡œ ì •ë¦¬(cleanup) ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•¨

ê¸°ë³¸ ì›ì¹™ì€ ì´ëŸ¬í•¨:
ì‚¬ìš©ìëŠ” Effectê°€ í•œ ë²ˆ ì‹¤í–‰ëœ ê²ƒê³¼,
**â€œì‹¤í–‰ â†’ ì •ë¦¬ â†’ ë‹¤ì‹œ ì‹¤í–‰â€ ìˆœì„œë¡œ ì‹¤í–‰ëœ ê²ƒì„ êµ¬ë¶„í•  ìˆ˜ ì—†ì–´ì•¼ í•¨**

```jsx
const connectionRef = useRef(null);
useEffect(() => {
  // This wonâ€™t fix the bug!!!
  if (!connectionRef.current) {
    connectionRef.current = createConnection();
    connectionRef.current.connect();
  }
}, []);
```

- ì´ë ‡ê²Œ í•˜ë©´ ê°œë°œ ëª¨ë“œì—ì„œ â€˜âœ… Connectingâ€¦â€™ ë©”ì‹œì§€ëŠ” í•œ ë²ˆë§Œ ë³´ì´ì§€ë§Œ, ë²„ê·¸ëŠ” í•´ê²°ë˜ì§€ ì•ŠìŒ
- cleanup í•¨ìˆ˜ê°€ ì—†ìœ¼ë©´ ì´ì „ ì—°ê²°ì´ í•´ì œë˜ì§€ ì•Šì•„ ì—°ê²°ì´ ëˆ„ì ë¨

ì˜¬ë°”ë¥¸ í•´ê²° ë°©ë²•: cleanup í•¨ìˆ˜ ì‘ì„±  
```jsx
useEffect(() => {
  const connection = createConnection();
  connection.connect();
  return () => connection.disconnect();
}, []);
```

ì´ë ‡ê²Œ í•˜ë©´ ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ë™ì‘í•¨
1. ì²« ë§ˆìš´íŠ¸ â†’ ì—°ê²°
2. ì–¸ë§ˆìš´íŠ¸ â†’ ì—°ê²° í•´ì œ
3. ì¬ë§ˆìš´íŠ¸ â†’ ë‹¤ì‹œ ì—°ê²°

### ìš”ì•½
- Reactì˜ Strict ModeëŠ” ê°œë°œí™˜ê²½ì—ì„œ Effectë¥¼ ë‘ ë²ˆ ì‹¤í–‰í•´ cleanup ë¯¸í¡í•œ ì½”ë“œë¥¼ ì¡°ê¸°ì— ë“œëŸ¬ëƒ„
- ì˜¬ë°”ë¥¸ ì •ë¦¬ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì´ í•µì‹¬

### ì§ˆë¬¸ê³¼ ë‹µë³€

1Q. Effectê°€ ë‘ ë²ˆ ì‹¤í–‰ë˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?  
1A. Reactì˜ ê°œë°œ ëª¨ë“œ, Strict Modeì—ì„œ ì˜ë„ì ìœ¼ë¡œ í•œ ë²ˆ ë” ë§ˆìš´íŠ¸/ì–¸ë§ˆìš´íŠ¸í•˜ì—¬ cleanup êµ¬í˜„ì´ ëˆ„ë½ë˜ì—ˆëŠ”ì§€ í™•ì¸í•¨

2Q. cleanupì„ êµ¬í˜„í•˜ì§€ ì•Šì•„ ìƒê¸°ëŠ” ì‹¤ì§ˆì ì¸ ë¬¸ì œëŠ” ë¬´ì—‡ì¸ê°€ìš”?  
2A. ì˜ˆë¥¼ ë“¤ì–´ ì„œë²„ ì—°ê²°ì´ í•´ì œë˜ì§€ ì•Šê³  ê³„ì† ëˆ„ì ë˜ë©´ ì¤‘ë³µ ì—°ê²°, ë©”ëª¨ë¦¬ ëˆ„ìˆ˜, ë¹„ì •ìƒ ë™ì‘ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ

3Q. ì´ì¤‘ ì‹¤í–‰ì„ ì—†ì• ë ¤ë©´ Strict Modeë¥¼ ë„ë©´ ë˜ì§€ ì•Šë‚˜ìš”?  
3A. ê°€ëŠ¥í•˜ì§€ë§Œ ê¶Œì¥ë˜ì§€ ì•ŠìŒ. Strict ModeëŠ” ê°œë°œ ì¤‘ ë¬¸ì œë¥¼ ì¡°ê¸°ì— ë°œê²¬í•˜ê²Œ í•´ ì£¼ëŠ” ì•ˆì „ì¥ì¹˜

### Controlling non-React widgets

### Subscribing to events

### Triggering animations

### Fetching data

### Sending analytics

### Not an Effect

#### Initializing the application
ì–´ë–¤ ë¡œì§ì€ ì•±ì´ ì²˜ìŒ ì‹œì‘ë  ë•Œ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ë©°,  
ì»´í¬ë„ŒíŠ¸ ì•ˆì´ ì•„ë‹ˆë¼ ì»´í¬ë„ŒíŠ¸ ë°–ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•¨

#### Buying a product
ìƒí’ˆ êµ¬ë§¤ëŠ” ë Œë”ë§ì— ì˜í•´ ë°œìƒí•œ ê²ƒì´ ì•„ë‹ˆë¼, ëª…í™•í•œ ì‚¬ìš©ì ì¸í„°ë™ì…˜ì— ì˜í•´ ë°œìƒí•´ì•¼ í•œë‹¤ëŠ” ê²ƒ  
ì´ëŸ¬í•œ POST ìš”ì²­ì€ íŠ¹ì • ì´ë²¤íŠ¸ì—ì„œë§Œ ë°œìƒí•´ì•¼ í•˜ë©°, ë Œë”ë§ ìì²´ê°€ íŠ¸ë¦¬ê±°ê°€ ë˜ì–´ì„  ì•ˆ ë¨

> Effectê°€ ì¬ë§ˆìš´íŠ¸ë˜ì—ˆì„ ë•Œ ì•± ë¡œì§ì´ ê¹¨ì§€ëŠ” ê²½ìš°, ëŒ€ë¶€ë¶„ì€ ì´ë¯¸ ì¡´ì¬í•˜ë˜ ë²„ê·¸ê°€ ë…¸ì¶œëœ ê²ƒ

ì¦‰, ì‚¬ìš©ìê°€ â€œë’¤ë¡œ ê°€ê¸°â€ë¥¼ ëˆŒë €ì„ ë•Œ í˜ì´ì§€ë¥¼ ë‹¤ì‹œ ë³´ëŠ” í–‰ìœ„ëŠ”
ì²˜ìŒ ê·¸ í˜ì´ì§€ë¥¼ ë°©ë¬¸í–ˆì„ ë•Œì™€ **ë™ì¼í•œ ê²°ê³¼**ë¥¼ ë³´ì—¬ì•¼ í•©ë‹ˆë‹¤.
ë¦¬ì•¡íŠ¸ëŠ” ì´ ì›ì¹™ì„ ì§€í‚¤ë„ë¡ í•˜ê¸° ìœ„í•´ ê°œë°œ ëª¨ë“œì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë§ˆìš´íŠ¸í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

---

## 5. Putting it all together
ğŸ’¡ í•µì‹¬ í‘œí˜„
> ğŸ’¬ ì›ë¬¸:  
> â€œEach Effect â€˜capturesâ€™ the text value from its corresponding render.â€  
> ğŸ“ í•œê¸€ ë²ˆì—­:  
> ê° EffectëŠ” í•´ë‹¹ ë Œë”ì—ì„œì˜ text ê°’ì„ â€œìº¡ì²˜â€í•©ë‹ˆë‹¤.  


### ì˜ˆì‹œ ì½”ë“œ
setTimeoutì„ ì‚¬ìš©í•˜ëŠ” ì˜ˆì œë¥¼ í†µí•´ Effectì˜ ì‹¤í–‰ê³¼ cleanup ê³¼ì •ì„ ì§ê´€ì ìœ¼ë¡œ ì²´í—˜
```jsx
useEffect(() => {
  const timeoutId = setTimeout(() => {
    console.log('â° ' + text);
  }, 3000);

  return () => {
    console.log('ğŸŸ¡ Cancel "' + text + '" log');
    clearTimeout(timeoutId);
  };
}, [text]);
```

ì‘ë™ ë°©ì‹:
1. ì…ë ¥ ê°’ì´ ë°”ë€” ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ Effectê°€ ì‹¤í–‰ë˜ê³  ì´ì „ EffectëŠ” ì •ë¦¬ë¨
2. ì…ë ¥ì„ ë¹ ë¥´ê²Œ ë°”ê¾¸ë©´ ì´ì „ setTimeoutì€ ì •ë¦¬ë˜ê³ , ê°€ì¥ ìµœì‹  ê°’ë§Œ ë‚¨ìŒ
3. unmount ì‹œì—ë„ cleanupì´ í˜¸ì¶œë˜ì–´ ë‚¨ì•„ ìˆëŠ” timeoutë„ ì·¨ì†Œë¨

### ì§ˆë¬¸ê³¼ ë‹µë³€
1Q. ì—¬ëŸ¬ ë²ˆ ì…ë ¥í•œ ê²½ìš° ì½˜ì†”ì— í•˜ë‚˜ì˜ ê²°ê³¼ë§Œ ë‚˜ì˜¤ëŠ” ì´ìœ ëŠ”?  
1A. ì´ì „ setTimeoutë“¤ì´ cleanupì— ì˜í•´ ëª¨ë‘ ì·¨ì†Œë˜ê³ , ë§ˆì§€ë§‰ ê²ƒë§Œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸

2Q. cleanup í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì§€ ì•Šìœ¼ë©´ ì–´ë–¤ ì¼ì´ ë°œìƒí•˜ë‚˜ìš”?  
2A. ì´ì „ timeoutë“¤ì´ ëª¨ë‘ ì‹¤í–‰ë˜ì–´ text ê°’ ë¡œê·¸ê°€ ì—¬ëŸ¬ ê°œ ì¶œë ¥ë¨

---

## Recap
ğŸ“ í•œê¸€ ë²ˆì—­:  
- ì´ë²¤íŠ¸ì™€ ë‹¬ë¦¬, EffectëŠ” íŠ¹ì • ìƒí˜¸ì‘ìš©ì´ ì•„ë‹ˆë¼ ë Œë”ë§ ìì²´ì— ì˜í•´ ë°œìƒí•¨
- Effectë¥¼ ì‚¬ìš©í•˜ë©´, ì»´í¬ë„ŒíŠ¸ë¥¼ ì™¸ë¶€ ì‹œìŠ¤í…œ(ì˜ˆ: ì„œë“œíŒŒí‹° API, ë„¤íŠ¸ì›Œí¬ ë“±)ê³¼ ë™ê¸°í™”í•  ìˆ˜ ìˆìŒ
- ê¸°ë³¸ì ìœ¼ë¡œ, EffectëŠ” ëª¨ë“  ë Œë”ë§ í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤ (ì´ˆê¸° ë Œë”ë§ë„ í¬í•¨)
- ì´ì „ ë Œë”ì™€ ëª¨ë“  ì˜ì¡´ì„± ê°’ì´ ë™ì¼í•˜ë‹¤ë©´, ReactëŠ” í•´ë‹¹ Effectì˜ ì‹¤í–‰ì„ ê±´ë„ˆëœ€
- ì˜ì¡´ì„±ì€ ê°œë°œìê°€ â€œì„ íƒâ€í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼, Effect ë‚´ë¶€ì—ì„œ ì‚¬ìš©ëœ ì½”ë“œì— ë”°ë¼ ìë™ìœ¼ë¡œ ê²°ì •ë¨
- **ë¹ˆ ì˜ì¡´ì„± ë°°ì—´([])**ì€ í•´ë‹¹ Effectê°€ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ í•œ ë²ˆë§Œ ì‹¤í–‰ë¨ì„ ì˜ë¯¸í•¨
- ê°œë°œ í™˜ê²½ì—ì„œ Strict Modeê°€ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´, ReactëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë‘ ë²ˆ ë§ˆìš´íŠ¸í•˜ì—¬ Effectë¥¼ ê°•í•˜ê²Œ í…ŒìŠ¤íŠ¸í•¨
- ë§Œì•½ Effectê°€ ì´ ì¬ë§ˆìš´íŠ¸ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ìƒê¸´ë‹¤ë©´, **ì •ë¦¬ í•¨ìˆ˜(cleanup function)**ë¥¼ êµ¬í˜„í•´ì•¼ í•¨
- ReactëŠ” Effectê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ê¸° ì§ì „ì—, ê·¸ë¦¬ê³  ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ, cleanup í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•¨

ğŸ’¬ ì›ë¬¸:  
- Unlike events, Effects are caused by rendering itself rather than a particular interaction.
- Effects let you synchronize a component with some external system (third-party API, network, etc).
- By default, Effects run after every render (including the initial one).
- React will skip the Effect if all of its dependencies have the same values as during the last render.
- You can't "choose" your dependencies. They are determined by the code inside the Effect.
- Empty dependency array (`[]`) corresponds to the component "mounting", i.e. being added to the screen.
- In Strict Mode, React mounts components twice (in development only!) to stress-test your Effects.
- If your Effect breaks because of remounting, you need to implement a cleanup function.
- React will call your cleanup function before the Effect runs next time, and during the unmount.

---

## Challenges

### 1. Focus a field on mount

ğŸ“„ ë¬¸ì œ ì„¤ëª…  
ì´ ì˜ˆì œì—ì„œ `<MyInput />` ì»´í¬ë„ŒíŠ¸ëŠ” ì…ë ¥ í•„ë“œë¥¼ ë Œë”ë§í•¨
ì´ ì…ë ¥ í•„ë“œê°€ í™”ë©´ì— ë‚˜íƒ€ë‚¬ì„ ë•Œ ìë™ìœ¼ë¡œ focus ë˜ë„ë¡ ë§Œë“¤ì–´ë³´ì„¸ìš”.
`ref.current.focus()` ì½”ë“œê°€ ì£¼ì„ ì²˜ë¦¬ë˜ì–´ ìˆëŠ”ë°, ì´ ë°©ì‹ì€ ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

autoFocus ì†ì„±ì€ ë¬´ì‹œí•˜ê³ , ìˆœìˆ˜í•˜ê²Œ `useEffect`ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.

**ğŸ¯ ì¶œì œ ì˜ë„**
- ë Œë”ë§ ì¤‘ DOMì— ì§ì ‘ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ì™œ ë¬¸ì œì¸ì§€ ì´í•´í•˜ë„ë¡ ìœ ë„
- Effectë¥¼ í†µí•´ ë Œë”ë§ ì´í›„ DOM ì ‘ê·¼ì´ ê°€ëŠ¥í•¨ì„ í•™ìŠµ

**ì •ë‹µ ì½”ë“œ**
```jsx
useEffect(() => {
  ref.current.focus();
}, []);
```

**í•´ì„¤**
- ref.current.focus()ëŠ” DOMì´ ì¤€ë¹„ëœ í›„ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ë¯€ë¡œ useEffect ì•ˆì— ì‘ì„±í•´ì•¼ í•¨
- ë¹ˆ ì˜ì¡´ì„± ë°°ì—´ []ì„ ë„£ì–´ ìµœì´ˆ ë§ˆìš´íŠ¸ ì‹œ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ê²Œ í•¨

### 2. Focus a field conditionally

ğŸ“„ ë¬¸ì œ ì„¤ëª… (í•œê¸€ ë²ˆì—­)

ë‘ ê°œì˜ `<MyInput />` í•„ë“œë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤.
í˜„ì¬ ë‘ ì»´í¬ë„ŒíŠ¸ ëª¨ë‘ focus()ë¥¼ í˜¸ì¶œí•˜ë ¤ê³  ì‹œë„í•˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” ë‘ ë²ˆì§¸ í•„ë“œë§Œ focus ë©ë‹ˆë‹¤.
ì²« ë²ˆì§¸ í•„ë“œë§Œ focus ë˜ë„ë¡ shouldFocus propì´ trueì¼ ë•Œë§Œ focusí•˜ë„ë¡ ìˆ˜ì •í•˜ì„¸ìš”.

**ğŸ¯ ì¶œì œ ì˜ë„**
- Effectë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì‘ì„±í•˜ë©´ì„œ ì¡°ê±´ ë¶„ê¸°ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ëŠ”ì§€ í•™ìŠµ
- prop ê¸°ë°˜ Effect ì¡°ê±´ ì œì–´


**ì •ë‹µ ì½”ë“œ**
```jsx
useEffect(() => {
  if (shouldFocus) {
    ref.current.focus();
  }
}, [shouldFocus]);
```

**í•´ì„¤**
- shouldFocusê°€ trueì¼ ë•Œë§Œ focus
- propì„ ì˜ì¡´ì„± ë°°ì—´ì— ì¶”ê°€í•˜ì—¬, ì´ ê°’ì´ ë°”ë€” ë•Œë§ˆë‹¤ Effect ì¬ì‹¤í–‰ë¨


### 3. Fix an interval that fires twice

ğŸ“„ ë¬¸ì œ ì„¤ëª… (í•œê¸€ ë²ˆì—­)  
1ì´ˆë§ˆë‹¤ ìˆ«ìê°€ 1ì”© ì¦ê°€í•˜ëŠ” ì¹´ìš´í„°ì…ë‹ˆë‹¤.
í•˜ì§€ë§Œ ì§€ê¸ˆì€ 1ì´ˆë§ˆë‹¤ 2ì”© ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ì´ ë¬¸ì œì˜ ì›ì¸ì„ ì°¾ê³ , ìˆ˜ì •í•˜ì„¸ìš”.

**ğŸ¯ ì¶œì œ ì˜ë„**
- ì´ì¤‘ ì‹¤í–‰ì˜ ê·¼ë³¸ ì›ì¸ì´ Effect cleanup ëˆ„ë½ì„ì„ ì²´ë“
- setIntervalì€ ë°˜ë“œì‹œ clearIntervalë¡œ ì •ë¦¬í•´ì•¼ í•¨ì„ í•™ìŠµ

**ì •ë‹µ ì½”ë“œ**
```jsx
useEffect(() => {
  function onTick() {
    setCount(c => c + 1);
  }

  const intervalId = setInterval(onTick, 1000);
  return () => clearInterval(intervalId);
}, []);
```

**í•´ì„¤**
- setIntervalì„ í´ë¦°ì—…í•˜ì§€ ì•Šìœ¼ë©´ ê°œë°œ í™˜ê²½ì—ì„œ ë‘ ë²ˆ ì„¤ì •ë¨
- clearIntervalì„ í†µí•´ ì´ì „ íƒ€ì´ë¨¸ ì œê±°


### Challenge 4. Fix fetching inside an Effect

ğŸ“„ ë¬¸ì œ ì„¤ëª… (í•œê¸€ ë²ˆì—­)  
ì‚¬ëŒ ì´ë¦„ì„ ì„ íƒí•˜ë©´ í•´ë‹¹ ì‚¬ëŒì˜ bioë¥¼ ë¶ˆëŸ¬ì™€ í‘œì‹œí•©ë‹ˆë‹¤.
ê·¸ëŸ°ë° ë¹ ë¥´ê²Œ ì„ íƒì„ ë°”ê¿”ë³´ë©´, ë§ˆì§€ë§‰ ì„ íƒì´ ì•„ë‹Œ ë‹¤ë¥¸ ì‚¬ëŒì˜ bioê°€ í‘œì‹œë˜ëŠ” ë²„ê·¸ê°€ ë°œìƒí•©ë‹ˆë‹¤.
ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ì„¸ìš”.

**ğŸ¯ ì¶œì œ ì˜ë„**
- ì´ì „ Effectì˜ ê²°ê³¼ê°€ ë‚˜ì¤‘ì— ë„ì°©í•  ê²½ìš°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²• í•™ìŠµ
- ìƒíƒœ ì—…ë°ì´íŠ¸ íƒ€ì´ë°ì— ë”°ë¥¸ ë¬¸ì œ í•´ê²°ë²• ì´í•´

**ì •ë‹µ ì½”ë“œ**
```jsx
useEffect(() => {
  let ignore = false;
  setBio(null);
  fetchBio(person).then(result => {
    if (!ignore) {
      setBio(result);
    }
  });

  return () => {
    ignore = true;
  };
}, [person]);
```

**í•´ì„¤**
- ê° Effectê°€ ê³ ìœ í•œ ignore ë³€ìˆ˜ë¥¼ ê°€ì§
- ìµœì‹  Effectë§Œ ê²°ê³¼ë¥¼ ë°˜ì˜í•˜ë„ë¡ ì„¤ì •
